<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Git · Liuxu&#39;s Wiki</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><nav class="toc"><h1>Liuxu&#39;s Wiki</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Compute Science Book</span><ul><li><span class="toctext">Advanced Programming in the UNIX Environment</span><ul><li><a class="toctext" href="../../CS-books/APUE/">Intro</a></li></ul></li></ul></li><li><span class="toctext">Algorithm</span><ul><li><a class="toctext" href="../../Algorithm/autodiff/">自动微分</a></li><li><span class="toctext">LeetCode</span><ul><li><a class="toctext" href="../../LeetCode/twostring/">String</a></li><li><a class="toctext" href="../../LeetCode/palindrome/">Palindrome</a></li><li><a class="toctext" href="../../LeetCode/array/">Array</a></li><li><a class="toctext" href="../../LeetCode/hash/">Hash</a></li><li><a class="toctext" href="../../LeetCode/heap/">Heap</a></li></ul></li></ul></li><li><span class="toctext">Languages</span><ul><li><span class="toctext">Python</span><ul><li><a class="toctext" href="../../Python/">Python 学习记录</a></li></ul></li><li><span class="toctext">Fortran</span><ul><li><a class="toctext" href="../../Fortran/Qsort/">Quick Sort</a></li></ul></li></ul></li><li><span class="toctext">系统运维</span><ul><li><a class="toctext" href="../">系统运维</a></li><li class="current"><a class="toctext" href>Git</a><ul class="internal"><li><a class="toctext" href="#一般信息-1">一般信息</a></li><li><a class="toctext" href="#安装配置git-1">安装配置git</a></li><li><a class="toctext" href="#本地使用-1">本地使用</a></li><li><a class="toctext" href="#连接github-1">连接github</a></li><li><a class="toctext" href="#合作-1">合作</a></li></ul></li></ul></li><li><span class="toctext">Digest</span><ul><li><a class="toctext" href="../../Digest/">鲁迅</a></li></ul></li><li><span class="toctext">年鉴</span><ul><li><a class="toctext" href="../../YearBook/">历史年鉴</a></li><li><a class="toctext" href="../../YearBook/peoples/">人物志</a></li></ul></li><li><span class="toctext">百科杂记</span><ul><li><a class="toctext" href="../../wiki/wiki/">组织</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>系统运维</li><li><a href>Git</a></li></ul><a class="edit-page" href="https://github.com/auxetic/wiki/blob/master/docs/src/Ops/git-summary.md#L"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Git</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Git-1" href="#Git-1">Git</a></h1><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>教程地址：<a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000">廖雪峰 Git教程</a></p></div></div><h2><a class="nav-anchor" id="一般信息-1" href="#一般信息-1">一般信息</a></h2><ol><li>为什么要使用git ?  <strong>为了实现版本控制</strong></li><li>git的作者是Linus, 初版写于2005年。</li><li>git是一种分布式版本控制系统，与之相对照的是集中式版本控制系统，例如SVN。</li></ol><h2><a class="nav-anchor" id="安装配置git-1" href="#安装配置git-1">安装配置git</a></h2><h3><a class="nav-anchor" id="略-1" href="#略-1">略</a></h3><h3><a class="nav-anchor" id="配置-1" href="#配置-1">配置</a></h3><pre><code class="language-bash">$ git config --global user.name &quot;liuxu&quot;             # 配置全局变量
$ git config --global user.email &quot;liuxu#ustc&quot;       # 配置全局变量</code></pre><ol><li>以上的配置会保存在 <code>./.gitconfig</code> 中，默认使用。</li><li>如果在特定项目中要使用其他账号，则在项目文件夹中执行<code>git config user.name/email</code>，账户信息会保存在项目配置文件中</li></ol><h2><a class="nav-anchor" id="本地使用-1" href="#本地使用-1">本地使用</a></h2><h3><a class="nav-anchor" id="创建仓库-1" href="#创建仓库-1">创建仓库</a></h3><pre><code class="language-bash">$ mkdir xx &amp;&amp; cd xx
$ git init</code></pre><p>git会在此目录下建立<code>.git</code>文件夹</p><h3><a class="nav-anchor" id="添加-.gitignore-1" href="#添加-.gitignore-1">添加 <code>.gitignore</code></a></h3><pre><code class="language-none">/dir        # 屏蔽根目录中的dir
dir/        # 屏蔽目录中文件
tmp         # 屏蔽某文件
*.swp       # 屏蔽某类型文件
!main.c     # 手动管理</code></pre><h3><a class="nav-anchor" id="添加文件-1" href="#添加文件-1">添加文件</a></h3><pre><code class="language-bash">$ touch test.f90    
$ git add test.f90              # 文件添加到仓库缓冲区
$ git commit -m &quot;说明&quot;          # 文件提交到仓库</code></pre><h3><a class="nav-anchor" id="修改及查看仓库状态-1" href="#修改及查看仓库状态-1">修改及查看仓库状态</a></h3><pre><code class="language-bash">$ git status                    # 查看仓库当前状态
$ echo &quot;&quot; &gt;&gt; test.f90           # 修改文件
$ git status                    # 提示文件有修改
$ git diff                      # 查看修改
$ git add test.f90              # 更新到缓冲区
$ git commit -m &quot;Modify&quot;        # 更新到仓库</code></pre><h3><a class="nav-anchor" id="查看历史记录-1" href="#查看历史记录-1">查看历史记录</a></h3><pre><code class="language-bash">$ git log                        # 查看版本库历史
$ git checkout xxxxx             # 跳到某一版本
$ git reset --hard HEAD^         # 回到上个版本
$ git reset --hard HEAD~n        # 回到n个前版本
$ git reset --hard xxx           # 回到特定编号版本
$ git reflog                     # 查看命令历史</code></pre><h3><a class="nav-anchor" id="修改与撤回-1" href="#修改与撤回-1">修改与撤回</a></h3><pre><code class="language-bash">$ git diff HEAD -- test.f90     # 比较工作区和仓库中的代码
$ git checkout -- test.f90      # 撤回代码修改,优先撤回缓冲区内容
$ git reset HEAD test.f90       # 撤回缓冲区代码并清除缓冲区</code></pre><h3><a class="nav-anchor" id="代码删除、重命名-1" href="#代码删除、重命名-1">代码删除、重命名</a></h3><pre><code class="language-bash">$ git rm xx                     # 删除代码
$ git mv xx yy                  # 重命名为yy</code></pre><h3><a class="nav-anchor" id="分支管理-1" href="#分支管理-1">分支管理</a></h3><pre><code class="language-bash">$ git branch                    # 查看当前分支
$ git branch dev                # 创建分支
$ git chechout dev              # 切换分支
$ git checkout -b dev           # 创建并切换到新分支
$ git merge dev                 # 合并dev到当前分支
$ git branch -d dev             # 删除分支(合并后)
$ git branch -D dev             # 删除分支(强制删除)</code></pre><ol><li>合并分支时如果发生冲突，需要手动解决冲突</li></ol><p>冲突部分在文件中会用 <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>，<code>=======</code>，<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> 标出</p><ol><li><code>git log --graph</code>命令可以看到分支合并图</li><li>git在合并分支时默认使用<code>Fast forward</code>模式，删除分支时会丢失分支信息</li></ol><p>可以添加<code>--no-ff</code>参数，加<code>-m xx</code>生成新的commit</p><h3><a class="nav-anchor" id="标签-1" href="#标签-1">标签</a></h3><p>标签是指向某个commit的固定指针</p><pre><code class="language-bash">$ git tag v1.0                              # 打标签
$ git tag v0.9 xxxxxx                       # 给特定`commit id`打标签
$ git tag -a v0.1 -m &quot;v1.0 release&quot; xxx     # 添加说明
$ git tag                                   # 查看存在的标签
$ git show v1.0                             # 查看特定标签版本信息</code></pre><h2><a class="nav-anchor" id="连接github-1" href="#连接github-1">连接github</a></h2><h3><a class="nav-anchor" id="建立远程repo-1" href="#建立远程repo-1">建立远程repo</a></h3><ol><li>创建github账号</li><li>配置 ssh_key</li><li>建立repo</li></ol><h3><a class="nav-anchor" id="关联和上传-1" href="#关联和上传-1">关联和上传</a></h3><pre><code class="language-bash">$ git remote add origin git@github.com:username/project_xx.git
$ git -u push origin master     # 第一次上传master分支
$ git -u push origin dev        # 在本地dev分支中，绑定并上传到远程dev
$ git push                      # 以后</code></pre><ul><li>远程repo信息在<code>.git/config</code>中，可以删除后重新配置</li></ul><h2><a class="nav-anchor" id="合作-1" href="#合作-1">合作</a></h2><pre><code class="language-bash">$ git checkout -b dev origin/dev            # 他人下载dev分支</code></pre><p>如果两人同时修改了某文件，则第二个推送人会推送失败，提示冲突。此时应执行</p><pre><code class="language-bash">$ git pull                                  # 拉取远程的新数据，如果失败可能需要下面命令
$ git branch --set-upstream dev origin/dev  # 本地远程分支绑定</code></pre><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">系统运维</span></a><a class="next" href="../../Digest/"><span class="direction">Next</span><span class="title">鲁迅</span></a></footer></article></body></html>
