<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Git · Liuxu&#39;s Wiki</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Liuxu&#39;s Wiki</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Compute Science Book</span><ul><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox"/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">Advanced Programming in the UNIX Environment</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../CS-books/APUE/">目录</a></li></ul></li></ul></li><li><span class="tocitem">Algorithm</span><ul><li><a class="tocitem" href="../../Algorithm/autodiff/">自动微分</a></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">LeetCode</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../LeetCode/twostring/">String</a></li><li><a class="tocitem" href="../../LeetCode/palindrome/">Palindrome</a></li><li><a class="tocitem" href="../../LeetCode/array/">Array</a></li><li><a class="tocitem" href="../../LeetCode/hash/">Hash</a></li><li><a class="tocitem" href="../../LeetCode/heap/">Heap</a></li></ul></li></ul></li><li><span class="tocitem">Languages</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Python</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Python/">Python 学习记录</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Fortran</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Fortran/Qsort/">Quick Sort</a></li></ul></li></ul></li><li><span class="tocitem">系统运维</span><ul><li><a class="tocitem" href="../">系统运维</a></li><li class="is-active"><a class="tocitem" href>Git</a><ul class="internal"><li><a class="tocitem" href="#一般信息-1"><span>一般信息</span></a></li><li><a class="tocitem" href="#安装配置git-1"><span>安装配置git</span></a></li><li><a class="tocitem" href="#本地使用-1"><span>本地使用</span></a></li><li><a class="tocitem" href="#连接github-1"><span>连接github</span></a></li><li><a class="tocitem" href="#合作-1"><span>合作</span></a></li></ul></li></ul></li><li><span class="tocitem">Digest</span><ul><li><a class="tocitem" href="../../Digest/">鲁迅</a></li></ul></li><li><span class="tocitem">年鉴</span><ul><li><a class="tocitem" href="../../YearBook/">历史年鉴</a></li><li><a class="tocitem" href="../../YearBook/peoples/">人物志</a></li></ul></li><li><span class="tocitem">百科杂记</span><ul><li><a class="tocitem" href="../../wiki/wiki/">组织</a></li></ul></li><li><a class="tocitem" href="../../English/">2019-04-29</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">系统运维</a></li><li class="is-active"><a href>Git</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Git</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/auxetic/wiki/blob/master/docs/src/Ops/git-summary.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Git-1"><a class="docs-heading-anchor" href="#Git-1">Git</a><a class="docs-heading-anchor-permalink" href="#Git-1" title="Permalink"></a></h1><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>教程地址：<a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000">廖雪峰 Git教程</a></p></div></div><h2 id="一般信息-1"><a class="docs-heading-anchor" href="#一般信息-1">一般信息</a><a class="docs-heading-anchor-permalink" href="#一般信息-1" title="Permalink"></a></h2><ol><li>为什么要使用git ?  <strong>为了实现版本控制</strong></li><li>git的作者是Linus, 初版写于2005年。</li><li>git是一种分布式版本控制系统，与之相对照的是集中式版本控制系统，例如SVN。</li></ol><h2 id="安装配置git-1"><a class="docs-heading-anchor" href="#安装配置git-1">安装配置git</a><a class="docs-heading-anchor-permalink" href="#安装配置git-1" title="Permalink"></a></h2><h3 id="略-1"><a class="docs-heading-anchor" href="#略-1">略</a><a class="docs-heading-anchor-permalink" href="#略-1" title="Permalink"></a></h3><h3 id="配置-1"><a class="docs-heading-anchor" href="#配置-1">配置</a><a class="docs-heading-anchor-permalink" href="#配置-1" title="Permalink"></a></h3><pre><code class="language-bash">$ git config --global user.name &quot;liuxu&quot;             # 配置全局变量
$ git config --global user.email &quot;liuxu#ustc&quot;       # 配置全局变量</code></pre><ol><li>以上的配置会保存在 <code>./.gitconfig</code> 中，默认使用。</li><li>如果在特定项目中要使用其他账号，则在项目文件夹中执行<code>git config user.name/email</code>，账户信息会保存在项目配置文件中</li></ol><h2 id="本地使用-1"><a class="docs-heading-anchor" href="#本地使用-1">本地使用</a><a class="docs-heading-anchor-permalink" href="#本地使用-1" title="Permalink"></a></h2><h3 id="创建仓库-1"><a class="docs-heading-anchor" href="#创建仓库-1">创建仓库</a><a class="docs-heading-anchor-permalink" href="#创建仓库-1" title="Permalink"></a></h3><pre><code class="language-bash">$ mkdir xx &amp;&amp; cd xx
$ git init</code></pre><p>git会在此目录下建立<code>.git</code>文件夹</p><h3 id="添加-.gitignore-1"><a class="docs-heading-anchor" href="#添加-.gitignore-1">添加 <code>.gitignore</code></a><a class="docs-heading-anchor-permalink" href="#添加-.gitignore-1" title="Permalink"></a></h3><pre><code class="language-none">/dir        # 屏蔽根目录中的dir
dir/        # 屏蔽目录中文件
tmp         # 屏蔽某文件
*.swp       # 屏蔽某类型文件
!main.c     # 手动管理</code></pre><h3 id="添加文件-1"><a class="docs-heading-anchor" href="#添加文件-1">添加文件</a><a class="docs-heading-anchor-permalink" href="#添加文件-1" title="Permalink"></a></h3><pre><code class="language-bash">$ touch test.f90    
$ git add test.f90              # 文件添加到仓库缓冲区
$ git commit -m &quot;说明&quot;          # 文件提交到仓库</code></pre><h3 id="修改及查看仓库状态-1"><a class="docs-heading-anchor" href="#修改及查看仓库状态-1">修改及查看仓库状态</a><a class="docs-heading-anchor-permalink" href="#修改及查看仓库状态-1" title="Permalink"></a></h3><pre><code class="language-bash">$ git status                    # 查看仓库当前状态
$ echo &quot;&quot; &gt;&gt; test.f90           # 修改文件
$ git status                    # 提示文件有修改
$ git diff                      # 查看修改
$ git add test.f90              # 更新到缓冲区
$ git commit -m &quot;Modify&quot;        # 更新到仓库</code></pre><h3 id="查看历史记录-1"><a class="docs-heading-anchor" href="#查看历史记录-1">查看历史记录</a><a class="docs-heading-anchor-permalink" href="#查看历史记录-1" title="Permalink"></a></h3><pre><code class="language-bash">$ git log                        # 查看版本库历史
$ git checkout xxxxx             # 跳到某一版本
$ git reset --hard HEAD^         # 回到上个版本
$ git reset --hard HEAD~n        # 回到n个前版本
$ git reset --hard xxx           # 回到特定编号版本
$ git reflog                     # 查看命令历史</code></pre><h3 id="修改与撤回-1"><a class="docs-heading-anchor" href="#修改与撤回-1">修改与撤回</a><a class="docs-heading-anchor-permalink" href="#修改与撤回-1" title="Permalink"></a></h3><pre><code class="language-bash">$ git diff HEAD -- test.f90     # 比较工作区和仓库中的代码
$ git checkout -- test.f90      # 撤回代码修改,优先撤回缓冲区内容
$ git reset HEAD test.f90       # 撤回缓冲区代码并清除缓冲区</code></pre><h3 id="代码删除、重命名-1"><a class="docs-heading-anchor" href="#代码删除、重命名-1">代码删除、重命名</a><a class="docs-heading-anchor-permalink" href="#代码删除、重命名-1" title="Permalink"></a></h3><pre><code class="language-bash">$ git rm xx                     # 删除代码
$ git mv xx yy                  # 重命名为yy</code></pre><h3 id="分支管理-1"><a class="docs-heading-anchor" href="#分支管理-1">分支管理</a><a class="docs-heading-anchor-permalink" href="#分支管理-1" title="Permalink"></a></h3><pre><code class="language-bash">$ git branch                    # 查看当前分支
$ git branch dev                # 创建分支
$ git chechout dev              # 切换分支
$ git checkout -b dev           # 创建并切换到新分支
$ git merge dev                 # 合并dev到当前分支
$ git branch -d dev             # 删除分支(合并后)
$ git branch -D dev             # 删除分支(强制删除)</code></pre><ol><li>合并分支时如果发生冲突，需要手动解决冲突</li></ol><p>冲突部分在文件中会用 <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>，<code>=======</code>，<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> 标出</p><ol><li><code>git log --graph</code>命令可以看到分支合并图</li><li>git在合并分支时默认使用<code>Fast forward</code>模式，删除分支时会丢失分支信息</li></ol><p>可以添加<code>--no-ff</code>参数，加<code>-m xx</code>生成新的commit</p><h3 id="标签-1"><a class="docs-heading-anchor" href="#标签-1">标签</a><a class="docs-heading-anchor-permalink" href="#标签-1" title="Permalink"></a></h3><p>标签是指向某个commit的固定指针</p><pre><code class="language-bash">$ git tag v1.0                              # 打标签
$ git tag v0.9 xxxxxx                       # 给特定`commit id`打标签
$ git tag -a v0.1 -m &quot;v1.0 release&quot; xxx     # 添加说明
$ git tag                                   # 查看存在的标签
$ git show v1.0                             # 查看特定标签版本信息</code></pre><h2 id="连接github-1"><a class="docs-heading-anchor" href="#连接github-1">连接github</a><a class="docs-heading-anchor-permalink" href="#连接github-1" title="Permalink"></a></h2><h3 id="建立远程repo-1"><a class="docs-heading-anchor" href="#建立远程repo-1">建立远程repo</a><a class="docs-heading-anchor-permalink" href="#建立远程repo-1" title="Permalink"></a></h3><ol><li>创建github账号</li><li>配置 ssh_key</li><li>建立repo</li></ol><h3 id="关联和上传-1"><a class="docs-heading-anchor" href="#关联和上传-1">关联和上传</a><a class="docs-heading-anchor-permalink" href="#关联和上传-1" title="Permalink"></a></h3><pre><code class="language-bash">$ git remote add origin git@github.com:username/project_xx.git
$ git -u push origin master     # 第一次上传master分支
$ git -u push origin dev        # 在本地dev分支中，绑定并上传到远程dev
$ git push                      # 以后</code></pre><ul><li>远程repo信息在<code>.git/config</code>中，可以删除后重新配置</li></ul><h2 id="合作-1"><a class="docs-heading-anchor" href="#合作-1">合作</a><a class="docs-heading-anchor-permalink" href="#合作-1" title="Permalink"></a></h2><pre><code class="language-bash">$ git checkout -b dev origin/dev            # 他人下载dev分支</code></pre><p>如果两人同时修改了某文件，则第二个推送人会推送失败，提示冲突。此时应执行</p><pre><code class="language-bash">$ git pull                                  # 拉取远程的新数据，如果失败可能需要下面命令
$ git branch --set-upstream dev origin/dev  # 本地远程分支绑定</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« 系统运维</a><a class="docs-footer-nextpage" href="../../Digest/">鲁迅 »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 26 November 2019 13:03">Tuesday 26 November 2019</span>. Using Julia version 1.0.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
